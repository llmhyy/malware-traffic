#!/bin/zsh
reverse() {
  tac <(echo "$@" | tr ' ' '\n') | tr '\n' ' '
}

git blame -L 1,+700 -- new_api_list.txt > cleaner_file.txt
export PATH="/usr/local/opt/grep/libexec/gnubin:$PATH"
a=($(cat ./cleaner_file.txt | grep -oP 'Not Committed Yet .*? (\d+)\)' | grep -oP "(\d+)\)" | grep -oP "(\d)+"))
for element in `reverse ${a}`
do
  echo "Line : ${element}";
  sed -i.bak -e "${element}"d new_api_list.txt;
done
rm ./cleaner_file.txt